<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: src/tools.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)"
               onblur="searchBox.OnSearchFieldFocus(false)"
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;"
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('tools_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">tools.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Implementación de funciones de herramientas y utilidades.
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="tools_8h_source.html">tools.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tools.c:</div>
<div class="dyncontent">
<div class="center"><img src="tools_8c__incl.png" border="0" usemap="#asrc_2tools_8c" alt=""/></div>
</div>
</div>
<p><a href="tools_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0341e7ad03cebc9cd78cd8d9cf5e9f79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#a0341e7ad03cebc9cd78cd8d9cf5e9f79">launchProg</a> (char **args, int background)</td></tr>
<tr class="memdesc:a0341e7ad03cebc9cd78cd8d9cf5e9f79"><td class="mdescLeft">&#160;</td><td class="mdescRight">launchProg punto 3 de tp2 Ejecuta un programa externo con los argumentos dados args[]: Array de cadenas que representa el comando y sus argumentos. background: Indica si el proceso debe ejecutarse en segundo plano. Funcionamiento: Crea un proceso hijo usando fork(). Si background es 1, el proceso se ejecuta en segundo plano. En caso contrario, el proceso espera a que el hijo termine. Utiliza execvp() para ejecutar el programa externo en el hijo. Muestra un mensaje de error si el comando no se puede ejecutar  <a href="tools_8c.html#a0341e7ad03cebc9cd78cd8d9cf5e9f79">More...</a><br /></td></tr>
<tr class="separator:a0341e7ad03cebc9cd78cd8d9cf5e9f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a6ebf4e39b740b3d35367134ad540f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#a5a6ebf4e39b740b3d35367134ad540f6">check_process</a> (pid_t pid)</td></tr>
<tr class="memdesc:a5a6ebf4e39b740b3d35367134ad540f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">check_process  <a href="tools_8c.html#a5a6ebf4e39b740b3d35367134ad540f6">More...</a><br /></td></tr>
<tr class="separator:a5a6ebf4e39b740b3d35367134ad540f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a922134c205c6c33a6e391f2b91e04535"><td class="memItemLeft" align="right" valign="top">pid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#a922134c205c6c33a6e391f2b91e04535">start_monitor</a> (void)</td></tr>
<tr class="memdesc:a922134c205c6c33a6e391f2b91e04535"><td class="mdescLeft">&#160;</td><td class="mdescRight">start_monitor  <a href="tools_8c.html#a922134c205c6c33a6e391f2b91e04535">More...</a><br /></td></tr>
<tr class="separator:a922134c205c6c33a6e391f2b91e04535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af09210556a886599c3eacc831bc4f11f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#af09210556a886599c3eacc831bc4f11f">stop_process</a> (pid_t pid)</td></tr>
<tr class="memdesc:af09210556a886599c3eacc831bc4f11f"><td class="mdescLeft">&#160;</td><td class="mdescRight">stop_process  <a href="tools_8c.html#af09210556a886599c3eacc831bc4f11f">More...</a><br /></td></tr>
<tr class="separator:af09210556a886599c3eacc831bc4f11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fa5b5231a863a88327794a718221797"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#a2fa5b5231a863a88327794a718221797">set_noncanonical_mode</a> (void)</td></tr>
<tr class="memdesc:a2fa5b5231a863a88327794a718221797"><td class="mdescLeft">&#160;</td><td class="mdescRight">set_noncanonical_mode Configura la terminal en modo no canónico. Funcionalidad: Ajusta la configuración de la terminal para permitir la lectura de entradas de teclado de inmediato, sin necesidad de pulsar "Enter". Permite a programas interactivos capturar y responder a las entradas del usuario en tiempo real, lo cual es útil para aplicaciones de shell y de monitoreo que necesitan reaccionar de inmediato ante las acciones del usuario.  <a href="tools_8c.html#a2fa5b5231a863a88327794a718221797">More...</a><br /></td></tr>
<tr class="separator:a2fa5b5231a863a88327794a718221797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8373d63f264c2e956b071b5bd2588a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#ac8373d63f264c2e956b071b5bd2588a1">reset_terminal_mode</a> ()</td></tr>
<tr class="memdesc:ac8373d63f264c2e956b071b5bd2588a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">reset_terminal_mode Restaura la configuración original de la terminal. Funcionalidad: Revierte cualquier cambio realizado en la configuración de la terminal (por ejemplo, si se cambió a modo no canónico). Es especialmente importante para restaurar la configuración al salir de una aplicación de modo terminal, evitando que la terminal quede en un estado de configuración inusual.  <a href="tools_8c.html#ac8373d63f264c2e956b071b5bd2588a1">More...</a><br /></td></tr>
<tr class="separator:ac8373d63f264c2e956b071b5bd2588a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2f076d432fb6fceccefe0847b587344"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#ad2f076d432fb6fceccefe0847b587344">handle_keypress</a> (void)</td></tr>
<tr class="memdesc:ad2f076d432fb6fceccefe0847b587344"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle_keypress Detecta y maneja las pulsaciones de teclas en la terminal. Funcionalidad: Captura las teclas presionadas por el usuario en modo no canónico, lo cual permite que las entradas se procesen de inmediato sin requerir que el usuario presione "Enter". Dependiendo de la tecla presionada, la función puede ejecutar comandos específicos como salir, pausar, o realizar otras acciones. Esta función es fundamental para aplicaciones interactivas en la terminal, como una shell o un menú de control.  <a href="tools_8c.html#ad2f076d432fb6fceccefe0847b587344">More...</a><br /></td></tr>
<tr class="separator:ad2f076d432fb6fceccefe0847b587344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bc001b73b58c0e6b9bd7ab2aab3406b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#a5bc001b73b58c0e6b9bd7ab2aab3406b">timeout_handler</a> (int sig)</td></tr>
<tr class="memdesc:a5bc001b73b58c0e6b9bd7ab2aab3406b"><td class="mdescLeft">&#160;</td><td class="mdescRight">timeout_handler Maneja el evento de tiempo de espera o inactividad. Funcionalidad: Se activa cuando el programa ha alcanzado un tiempo de espera, lo cual puede ser el resultado de inactividad del usuario o de no recibir una respuesta esperada. Esta función podría realizar acciones como restaurar el sistema a un estado seguro, cerrar sesiones activas, o mostrar un mensaje de advertencia. Esta función suele asociarse con un temporizador de tipo watchdog que controla el estado de la aplicación.  <a href="tools_8c.html#a5bc001b73b58c0e6b9bd7ab2aab3406b">More...</a><br /></td></tr>
<tr class="separator:a5bc001b73b58c0e6b9bd7ab2aab3406b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be6e08513f53f0cf598c123df230f35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#a1be6e08513f53f0cf598c123df230f35">timer_handler</a> (int sig)</td></tr>
<tr class="memdesc:a1be6e08513f53f0cf598c123df230f35"><td class="mdescLeft">&#160;</td><td class="mdescRight">timer_handler Función que maneja la señal generada por el temporizador. Funcionalidad: Este manejador (handler) se invoca cada vez que el temporizador emite una señal, generalmente SIGALRM. Puede realizar acciones como actualizar información, refrescar la pantalla o recopilar datos de uso del sistema. Al ser un manejador de señal, debe ser rápido y no bloquearse, ya que la señal podría interrumpir el flujo normal del programa.  <a href="tools_8c.html#a1be6e08513f53f0cf598c123df230f35">More...</a><br /></td></tr>
<tr class="separator:a1be6e08513f53f0cf598c123df230f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad074b7813eb1f196ef0359796310432f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#ad074b7813eb1f196ef0359796310432f">setup_timer</a> (int period)</td></tr>
<tr class="memdesc:ad074b7813eb1f196ef0359796310432f"><td class="mdescLeft">&#160;</td><td class="mdescRight">setup_timer Configura un temporizador que se activa periódicamente. Funcionalidad: El argumento period define el intervalo en milisegundos. Usualmente, configura una señal para que se envíe al proceso a intervalos regulares. Por ejemplo, puede utilizar timer_settime para establecer un temporizador que emite señales SIGALRM o SIGVTALRM. Este tipo de temporizador es útil en aplicaciones que requieren una acción repetitiva, como monitorear o refrescar datos.  <a href="tools_8c.html#ad074b7813eb1f196ef0359796310432f">More...</a><br /></td></tr>
<tr class="separator:ad074b7813eb1f196ef0359796310432f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c92f692060555a8a8ce86b4c9fd8053"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#a1c92f692060555a8a8ce86b4c9fd8053">process_control_json</a> (const char *json_string, int monitor_pid)</td></tr>
<tr class="memdesc:a1c92f692060555a8a8ce86b4c9fd8053"><td class="mdescLeft">&#160;</td><td class="mdescRight">process_control_json Procesa un mensaje en formato JSON y ejecuta alguna acción en función del contenido del JSON, generalmente para controlar o comunicar información al proceso con ID monitor_pid.  <a href="tools_8c.html#a1c92f692060555a8a8ce86b4c9fd8053">More...</a><br /></td></tr>
<tr class="separator:a1c92f692060555a8a8ce86b4c9fd8053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51eaddc3037c155ad07c38bdad42c9f1"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#a51eaddc3037c155ad07c38bdad42c9f1">read_json_file</a> (const char *filename)</td></tr>
<tr class="memdesc:a51eaddc3037c155ad07c38bdad42c9f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">read_json_file  <a href="tools_8c.html#a51eaddc3037c155ad07c38bdad42c9f1">More...</a><br /></td></tr>
<tr class="separator:a51eaddc3037c155ad07c38bdad42c9f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:afe290ff0321184cd4678c92d8e55ffdb"><td class="memItemLeft" align="right" valign="top">struct termios&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#afe290ff0321184cd4678c92d8e55ffdb">original_mode</a></td></tr>
<tr class="memdesc:afe290ff0321184cd4678c92d8e55ffdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defi.  <a href="tools_8c.html#afe290ff0321184cd4678c92d8e55ffdb">More...</a><br /></td></tr>
<tr class="separator:afe290ff0321184cd4678c92d8e55ffdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3377600011697a5cf14276f20f0844a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structProcessControl.html">ProcessControl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tools_8c.html#a3377600011697a5cf14276f20f0844a1">process</a> = {0}</td></tr>
<tr class="memdesc:a3377600011697a5cf14276f20f0844a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defi.  <a href="tools_8c.html#a3377600011697a5cf14276f20f0844a1">More...</a><br /></td></tr>
<tr class="separator:a3377600011697a5cf14276f20f0844a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementación de funciones de herramientas y utilidades. </p>
<p>Este archivo contiene la implementación de funciones relacionadas con herramientas y utilidades generales del sistema, además de manejar variables globales como el estado del terminal.</p>
<p>Created by DARIO on 27/10/24. </p>

<p class="definition">Definition in file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a5a6ebf4e39b740b3d35367134ad540f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a6ebf4e39b740b3d35367134ad540f6">&#9670;&nbsp;</a></span>check_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_process </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check_process </p>
<p>Verifica si un proceso con el PID dado está activo.</p>
<dl class="section return"><dt>Returns</dt><dd>asd Propósito: Verifica el estado de un proceso usando su PID. Funcionalidad: Evalúa si el proceso está corriendo, si terminó normalmente o si fue interrumpido por una señal, y retorna un código de estado. </dd></dl>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00092">92</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

</div>
</div>
<a id="ad2f076d432fb6fceccefe0847b587344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2f076d432fb6fceccefe0847b587344">&#9670;&nbsp;</a></span>handle_keypress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void handle_keypress </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>handle_keypress Detecta y maneja las pulsaciones de teclas en la terminal. Funcionalidad: Captura las teclas presionadas por el usuario en modo no canónico, lo cual permite que las entradas se procesen de inmediato sin requerir que el usuario presione "Enter". Dependiendo de la tecla presionada, la función puede ejecutar comandos específicos como salir, pausar, o realizar otras acciones. Esta función es fundamental para aplicaciones interactivas en la terminal, como una shell o un menú de control. </p>
<p>Detecta y maneja la pulsación de teclas en la terminal. </p>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00254">254</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

</div>
</div>
<a id="a0341e7ad03cebc9cd78cd8d9cf5e9f79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0341e7ad03cebc9cd78cd8d9cf5e9f79">&#9670;&nbsp;</a></span>launchProg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void launchProg </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>background</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>launchProg punto 3 de tp2 Ejecuta un programa externo con los argumentos dados args[]: Array de cadenas que representa el comando y sus argumentos. background: Indica si el proceso debe ejecutarse en segundo plano. Funcionamiento: Crea un proceso hijo usando fork(). Si background es 1, el proceso se ejecuta en segundo plano. En caso contrario, el proceso espera a que el hijo termine. Utiliza execvp() para ejecutar el programa externo en el hijo. Muestra un mensaje de error si el comando no se puede ejecutar </p>
<p>Lanza un proceso con los argumentos proporcionados y permite la opción de ejecutarlo en segundo plano. </p>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00034">34</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

</div>
</div>
<a id="a1c92f692060555a8a8ce86b4c9fd8053"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c92f692060555a8a8ce86b4c9fd8053">&#9670;&nbsp;</a></span>process_control_json()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int process_control_json </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>json_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>monitor_pid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>process_control_json Procesa un mensaje en formato JSON y ejecuta alguna acción en función del contenido del JSON, generalmente para controlar o comunicar información al proceso con ID monitor_pid. </p>
<p>Procesa un JSON para controlar el comportamiento del proceso basado en la configuración.</p>
<p>Funcionalidad: Recibe una cadena JSON y un identificador de proceso (monitor_pid). Parseará el JSON para extraer datos o comandos que se quieran enviar al proceso indicado. Esto puede incluir comandos de inicio, detención o cambio de estado de un proceso. Dependiendo del diseño, esta función puede trabajar junto con otras funciones de control de procesos para administrar y monitorear el proceso indicado.</p>
<dl class="section return"><dt>Returns</dt><dd>da </dd></dl>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00389">389</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

<p class="reference">References <a class="el" href="tools_8h_source.html#l00060">ProcessControl::is_running</a>, <a class="el" href="tools_8h_source.html#l00056">ProcessControl::period</a>, <a class="el" href="tools_8h_source.html#l00048">ProcessControl::pid</a>, <a class="el" href="tools_8c_source.html#l00020">process</a>, <a class="el" href="tools_8c_source.html#l00351">setup_timer()</a>, and <a class="el" href="tools_8h_source.html#l00052">ProcessControl::timeout</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tools_8c_a1c92f692060555a8a8ce86b4c9fd8053_cgraph.png" border="0" usemap="#atools_8c_a1c92f692060555a8a8ce86b4c9fd8053_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a51eaddc3037c155ad07c38bdad42c9f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51eaddc3037c155ad07c38bdad42c9f1">&#9670;&nbsp;</a></span>read_json_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* read_json_file </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>read_json_file </p>
<p>Lee un archivo JSON y devuelve su contenido como una cadena.</p>
<dl class="section return"><dt>Returns</dt><dd>char asd Lee y aplica la configuración de un archivo JSON. Lee las configuraciones almacenadas en config.json, analiza el contenido JSON y lo aplica al proceso de monitoreo (pid). </dd></dl>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00456">456</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

</div>
</div>
<a id="ac8373d63f264c2e956b071b5bd2588a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8373d63f264c2e956b071b5bd2588a1">&#9670;&nbsp;</a></span>reset_terminal_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_terminal_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reset_terminal_mode Restaura la configuración original de la terminal. Funcionalidad: Revierte cualquier cambio realizado en la configuración de la terminal (por ejemplo, si se cambió a modo no canónico). Es especialmente importante para restaurar la configuración al salir de una aplicación de modo terminal, evitando que la terminal quede en un estado de configuración inusual. </p>
<p>Restablece el modo de la terminal a la configuración original (modo canónico). </p>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00238">238</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

<p class="reference">References <a class="el" href="tools_8c_source.html#l00016">original_mode</a>.</p>

<p class="reference">Referenced by <a class="el" href="tools_8c_source.html#l00219">set_noncanonical_mode()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tools_8c_ac8373d63f264c2e956b071b5bd2588a1_icgraph.png" border="0" usemap="#atools_8c_ac8373d63f264c2e956b071b5bd2588a1_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a2fa5b5231a863a88327794a718221797"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fa5b5231a863a88327794a718221797">&#9670;&nbsp;</a></span>set_noncanonical_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_noncanonical_mode </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set_noncanonical_mode Configura la terminal en modo no canónico. Funcionalidad: Ajusta la configuración de la terminal para permitir la lectura de entradas de teclado de inmediato, sin necesidad de pulsar "Enter". Permite a programas interactivos capturar y responder a las entradas del usuario en tiempo real, lo cual es útil para aplicaciones de shell y de monitoreo que necesitan reaccionar de inmediato ante las acciones del usuario. </p>
<p>Configura la terminal en modo no canónico para capturar las teclas inmediatamente. </p>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00219">219</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

<p class="reference">References <a class="el" href="tools_8c_source.html#l00016">original_mode</a>, and <a class="el" href="tools_8c_source.html#l00238">reset_terminal_mode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tools_8c_a2fa5b5231a863a88327794a718221797_cgraph.png" border="0" usemap="#atools_8c_a2fa5b5231a863a88327794a718221797_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ad074b7813eb1f196ef0359796310432f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad074b7813eb1f196ef0359796310432f">&#9670;&nbsp;</a></span>setup_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_timer </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>period</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>setup_timer Configura un temporizador que se activa periódicamente. Funcionalidad: El argumento period define el intervalo en milisegundos. Usualmente, configura una señal para que se envíe al proceso a intervalos regulares. Por ejemplo, puede utilizar timer_settime para establecer un temporizador que emite señales SIGALRM o SIGVTALRM. Este tipo de temporizador es útil en aplicaciones que requieren una acción repetitiva, como monitorear o refrescar datos. </p>
<p>Configura un temporizador con un intervalo determinado en segundos. </p>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00351">351</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

<p class="reference">References <a class="el" href="tools_8c_source.html#l00020">process</a>, and <a class="el" href="tools_8h_source.html#l00064">ProcessControl::timer_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="tools_8c_source.html#l00389">process_control_json()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="tools_8c_ad074b7813eb1f196ef0359796310432f_icgraph.png" border="0" usemap="#atools_8c_ad074b7813eb1f196ef0359796310432f_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a922134c205c6c33a6e391f2b91e04535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a922134c205c6c33a6e391f2b91e04535">&#9670;&nbsp;</a></span>start_monitor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pid_t start_monitor </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>start_monitor </p>
<p>Inicia el monitor en segundo plano y devuelve el PID del proceso monitor.</p>
<dl class="section return"><dt>Returns</dt><dd>d Inicia un proceso de monitoreo del sistema. Lanza el proceso que monitorea el sistema y retorna su ID de proceso (PID). </dd></dl>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00128">128</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

<p class="reference">References <a class="el" href="tools_8h_source.html#l00031">MAX_PATH</a>, and <a class="el" href="tools_8h_source.html#l00037">METRIC_RELATIVE_PATH</a>.</p>

</div>
</div>
<a id="af09210556a886599c3eacc831bc4f11f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af09210556a886599c3eacc831bc4f11f">&#9670;&nbsp;</a></span>stop_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stop_process </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>stop_process </p>
<p>Detiene un proceso monitor en ejecución.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>inter Detiene el proceso de monitoreo del sistema. Envia una señal para terminar el proceso identificado por pid. Retorna 0 si el proceso se detuvo correctamente, y -1 si hubo un error. </dd></dl>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00183">183</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

</div>
</div>
<a id="a5bc001b73b58c0e6b9bd7ab2aab3406b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bc001b73b58c0e6b9bd7ab2aab3406b">&#9670;&nbsp;</a></span>timeout_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timeout_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>timeout_handler Maneja el evento de tiempo de espera o inactividad. Funcionalidad: Se activa cuando el programa ha alcanzado un tiempo de espera, lo cual puede ser el resultado de inactividad del usuario o de no recibir una respuesta esperada. Esta función podría realizar acciones como restaurar el sistema a un estado seguro, cerrar sesiones activas, o mostrar un mensaje de advertencia. Esta función suele asociarse con un temporizador de tipo watchdog que controla el estado de la aplicación. </p>
<p>Manejador de señal que se activa cuando el temporizador alcanza su límite. </p>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00305">305</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

<p class="reference">References <a class="el" href="tools_8h_source.html#l00048">ProcessControl::pid</a>, and <a class="el" href="tools_8c_source.html#l00020">process</a>.</p>

</div>
</div>
<a id="a1be6e08513f53f0cf598c123df230f35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1be6e08513f53f0cf598c123df230f35">&#9670;&nbsp;</a></span>timer_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>timer_handler Función que maneja la señal generada por el temporizador. Funcionalidad: Este manejador (handler) se invoca cada vez que el temporizador emite una señal, generalmente SIGALRM. Puede realizar acciones como actualizar información, refrescar la pantalla o recopilar datos de uso del sistema. Al ser un manejador de señal, debe ser rápido y no bloquearse, ya que la señal podría interrumpir el flujo normal del programa. </p>
<p>Manejador de señales para eventos de temporizador. </p>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00325">325</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

<p class="reference">References <a class="el" href="tools_8h_source.html#l00060">ProcessControl::is_running</a>, <a class="el" href="tools_8h_source.html#l00048">ProcessControl::pid</a>, and <a class="el" href="tools_8c_source.html#l00020">process</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="afe290ff0321184cd4678c92d8e55ffdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe290ff0321184cd4678c92d8e55ffdb">&#9670;&nbsp;</a></span>original_mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct termios original_mode</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defi. </p>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00001">1</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="tools_8c_source.html#l00238">reset_terminal_mode()</a>, and <a class="el" href="tools_8c_source.html#l00219">set_noncanonical_mode()</a>.</p>

</div>
</div>
<a id="a3377600011697a5cf14276f20f0844a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3377600011697a5cf14276f20f0844a1">&#9670;&nbsp;</a></span>process</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structProcessControl.html">ProcessControl</a> process = {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defi. </p>

<p class="definition">Definition at line <a class="el" href="tools_8c_source.html#l00020">20</a> of file <a class="el" href="tools_8c_source.html">tools.c</a>.</p>

<p class="reference">Referenced by <a class="el" href="tools_8c_source.html#l00389">process_control_json()</a>, <a class="el" href="tools_8c_source.html#l00351">setup_timer()</a>, <a class="el" href="tools_8c_source.html#l00305">timeout_handler()</a>, and <a class="el" href="tools_8c_source.html#l00325">timer_handler()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="tools_8c.html">tools.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
